---
title: "变量、作用域和内存问题"
description: ""
---

#### 4.1 基本类型和引用类型的值
- 基本类型值是保存在内存中的简单数据段，引用类型值是多个值组成的对象
- 引用类型值是保存在内存中的对象，与其他语言不通，JS不允许直接操作对象的内存空间，总是操作的引用，这也就解释了为啥复制的时候，改变赋值后的对象，原对象也会改变，因为前后两个变量指向同一个对象。
![alt javascript组成](http://puui.qpic.cn/media_img/lena/PICyn0njl_840_1824/0)
- 函数传参时的形参和实参也是同样的道理。函数虽然是值传递，但当参数是对象时，传递的依旧是指向内存的变量
- 检测数据类型是前边已经介绍过typeof了，但是在检测对象的类型时，typeof无法进行区分，都会返回'object', 此时需要用到`instanceof`，用法`A instanceof Person`
#### 4.2 执行环境及作用域
执行环境定义了变量或函数有权访问的所有数据，每一个执行环境都有一个变量对象，环境内所有的变量或函数都保存在这个对象中。例如全局环境被认为是window对象，js中创建的函数和变量都保存在window中。
#### 4.3 垃圾收集
- 标记清楚
- 引用计数

#### 小结